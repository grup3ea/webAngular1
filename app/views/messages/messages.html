<md-content class="md-padding" layout-xs="row" layout="row">
    <div flex-xs flex-gt-xs="30" layout="column">
        <!-- start of COLUMN -->
        <md-card>
            <md-toolbar layout="row" class="o_bGreen">
                <div class="md-toolbar-tools">
                    <span>
                      Conversations
                    </span>
                </div>
            </md-toolbar>
            <md-list flex>
                <md-list-item class="md-3-line" ng-repeat="conversation in conversations"
                ng-click="selectConversation(conversation, $index)">
                    <img ng-show="storageuser._id==conversation.userB._id" ng-src="{{conversation.userA.avatar}}" class="md-avatar"/>
                    <img ng-show="storageuser._id==conversation.userA._id" ng-src="{{conversation.userB.avatar}}" class="md-avatar"/>
                    <div class="md-list-item-text" layout="column">
                        <h3 ng-show="storageuser._id==conversation.userB._id">{{conversation.userA.name}}</h3>
                        <h3 ng-show="storageuser._id==conversation.userA._id">{{conversation.userB.name}}</h3>

                    </div>
                </md-list-item>
            </md-list>
        </md-card>
    </div>
    <!-- end of COLUMN -->
    <div flex-xs flex-gt-xs="70" layout="column">
        <!-- start of COLUMN -->
        <md-card>
            <md-toolbar layout="row" class="o_bGreenDark">
                <div class="md-toolbar-tools">
                    <span>Conversation</span>
                </div>
            </md-toolbar>
            <md-card-actions style="max-height: 500px; overflow-y: scroll;" scroll-glue>
                    <md-list-item class="md-3-line" ng-repeat="message in selectedConversation.messages">
                        <img ng-src="{{message.user.avatar}}" class="md-avatar"/>
                        <div class="md-list-item-text" layout="column">
                            <h3>{{message.user.name}}</h3>
                            <p>{{message.content}}</p>
                            <p class="md-secondary">{{message.date | date: "dd/MM/yyyy, HH:mm"}}</p>
                        </div>
                    </md-list-item>
            </md-card-actions>
            <md-card-actions ng-show="selectedConversation.messages">
                <div layout-xs="row" layout="row">
                    <div flex-xs flex-gt-xs="80" layout="column">
                        <md-input-container class="md-block">
                            <label>Message</label>
                            <input ng-model="newMessage.message">
                        </md-input-container>
                    </div>
                    <div flex-xs flex-gt-xs="20" layout="column">
                        <md-button ng-click="sendMessage()" class="md-raised o_bGreenDark">Send!</md-button>
                    </div>
                </div>
            </md-card-actions>
        </md-card>
    </div>
    <!-- end of COLUMN -->
</md-content>
<!-- end of row of columns -->
