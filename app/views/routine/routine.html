<md-content class="md-padding" layout-xs="column" layout="column">
    <md-card>
        <md-toolbar layout="row" class="o_bRedDark">
            <div class="md-toolbar-tools">
                <span>{{routine.title}}</span>
            </div>
        </md-toolbar>
        <md-card-title>
            <md-card-title-text>
            <span class="md-subhead">
              {{routine.description}}
            </span>
                <span class="md-headline">
              <h3>Trainer:</h3>
              <md-list-item class="md-3-line"
                            ng-href="#!/user/{{routine.trainer._id}}">
                  <img ng-hide="routine.trainer.avatar" ng-src="img/user.png" class="md-avatar"/>
                  <img ng-show="routine.trainer.avatar" ng-src="{{routine.trainer.avatar}}" class="md-avatar"
                       alt="{{item.who}}"/>
                  <div class="md-list-item-text" layout="column">
                      <h3>{{routine.trainer.name}}</h3>
                      <h4>{{routine.trainer.email}}</h4>
                      <p>{{routine.trainer.discipline}}</p>
                  </div>
              </md-list-item>
            </span>
            </md-card-title-text>
        </md-card-title>
        <md-card-actions layout="row" layout-align="end center" ng-show="storageuser.role=='trainer'">
            <md-button>Edit</md-button>
            <md-button>Delete Routine</md-button>
        </md-card-actions>
        <md-tabs md-dynamic-height md-border-bottom>
            <md-tab label="{{day.title}}" ng-repeat="day in routine.days">
                <md-content class="md-padding">
                    <h3 class="md-display-1">{{day.title}}</h3>
                    <h6> Has it been completed? {{day.done}}</h6>
                    <md-list class="md-dense" flex>
                        <md-subheader class="md-no-sticky">{{day.description}}</md-subheader>
                        <md-list-item class="md-3-line" ng-repeat="exercise in day.exercises">
                            <img ng-src="{{exercise.img}}" class="md-avatar" alt="{{item.who}}"/>
                            <div class="md-list-item-text" layout="column">
                                <h>{{exercise.title}}</h>
                                <h4>{{exercise.description}}</h4>
                                <p ng-show="exercise.weight">weight: {{exercise.weight}}</p>
                                <p ng-show="exercise.distance">distance: {{exercise.distance}}</p>
                                <p ng-show="exercise.reps">reps: {{exercise.reps}}</p>
                                <p ng-show="exercise.series">series: {{exercise.series}}</p>
                            </div>
                        </md-list-item>
                    </md-list>
                    <md-card-actions layout="row" layout-align="end center">
                        <md-button ng-click="markDayAsCompleted(day)"
                                   class="md-raised" md-colors="{background: 'blue'}"
                                   ng-hide="day.done=='true'">Mark day as completed
                        </md-button>
                        <div ng-show="day.done=='true'">Day done</div>
                    </md-card-actions>
                </md-content>
            </md-tab>
        </md-tabs>
    </md-card>
</md-content>
