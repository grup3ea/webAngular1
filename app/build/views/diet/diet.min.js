/*! fooddportsweb - v0.0.0 - 2017-01-22 */"use strict";angular.module("myApp.diet",["ngRoute"]).config(["$routeProvider",function(a){a.when("/diet/:dietid",{templateUrl:"views/diet/diet.html",controller:"DietCtrl"})}]).controller("DietCtrl",function(a,b,c,d){a.storageuser=JSON.parse(localStorage.getItem("fs_web_userdata")),a.diet={},b.get(urlapi+"diets/"+c.dietid).then(function(b){console.log("data success"),console.log(b),a.diet=b.data},function(a,b){console.log("data error"),console.log(b),console.log(a)}).then(function(a){}),a.selectDiet=function(c){b({url:urlapi+"diets/choose/"+c._id,method:"POST",data:{dietid:c}}).then(function(b){console.log("Dia Seleccionado"),console.log(b.data),a.diet=b.data,d.show(d.simple().textContent("Add Diet to personal Diets").position("bottom right").hideDelay(3e3))})},a.unselectDiet=function(c){b({url:urlapi+"diets/choose/"+c._id,method:"DELETE",data:{dietid:c}}).then(function(b){console.log(b.data),a.diet=b.data,d.show(d.simple().textContent("Removed Diet from personal Diets").position("bottom right").hideDelay(3e3))})},a.markDayAsCompleted=function(d){b({url:urlapi+"diets/completeDay/"+c.dietid,method:"POST",data:{dayid:d._id}}).then(function(b){console.log("Dia completado, tus puntos tienes ya "),console.log(b.data),a.diet=b.data})}});