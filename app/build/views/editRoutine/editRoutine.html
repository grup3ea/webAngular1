<md-content class="md-padding" layout-xs="column" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline-3">Routine Title: {{routine.title}} </span><span class="md-headline"><md-list-item class="md-3-line" ng-href="#!/client/{{routine.client._id}}"><img ng-hide="routine.client.avatar" ng-src="img/user.png" class="md-avatar"> <img ng-show="routine.client.avatar" ng-src="{{routine.client.avatar}}" class="md-avatar" alt="{{item.who}}"><div class="md-list-item-text" layout="column"><h3>{{routine.client.name}}</h3><h4>{{routine.client.email}}</h4><p>{{routine.client.discipline}}</p><p>points: {{routine.client.points.total}}</p></div></md-list-item></span><span class="md-subhead">Description: {{routine.description}}</span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="end center" ng-show="storageuser.role=='trainer'"><md-button ng-ref="/#!/editRoutine/{{routine.client._id}}">Edit</md-button><md-button ng-click="deleteRoutine($event)">Delete Routine</md-button></md-card-actions><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{day.title}}" ng-repeat="day in routine.days"><md-content class="md-padding"><h1 class="md-display-1">{{day.title}}</h1><md-list class="md-dense" flex><md-subheader class="md-no-sticky">{{day.description}}</md-subheader><md-list-item class="md-3-line" ng-repeat="exercise in day.exercises"><img ng-src="{{exercise.img}}" class="md-avatar" alt="{{item.who}}"><div class="md-list-item-text" layout="column"><h3>{{exercise.title}}</h3><h4>{{exercise.description}}</h4><p ng-show="exercise.weight">weight: {{exercise.weight}}</p><p ng-show="exercise.distance">distance: {{exercise.distance}}</p><p ng-show="exercise.reps">reps: {{exercise.reps}}</p><p ng-show="exercise.series">series: {{exercise.series}}</p></div></md-list-item></md-list></md-content></md-tab><md-tab label="New Day" ng-show="storageuser.role=='trainer'"><md-content class="md-padding"><md-input-container class="md-block"><label>New day title</label><input ng-model="newDay.title"></md-input-container><md-input-container class="md-block"><label>New day description</label><input ng-model="newDay.description"></md-input-container><p>Exercises</p><hr><div ng-repeat="exercise in exercises" layout="row"><md-input-container class="md-block" flex-gt-sm class="md-block"><label></label><div class="form_controls"><div class="upload_button_holder"><md-button href="#" class="md-raised" ngf-select="uploadFile($file, $index)" title="upload" resetonclick="true">Exercise Image</md-button></div></div><div class="file"><p>{{exercise.imgfile.name}} {{f.$error}} {{f.$errorParam}}</p><div class="status">{{exercise.imgfile.status}}</div><div class="progress-bar"><div class="progress" style="width: {{exercise.imgfile.progress}}%" ng-init="progress=0"></div></div><div class="form_line"><div class="form_controls"><div class="preview"><img style="width: 100px" ngf-src="exercise.imgfile.result.url || file"></div></div></div></div></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise title</label><input ng-model="exercise.title"></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise description</label><input ng-model="exercise.description"></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise weight</label><input ng-model="exercise.weight"></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise distance</label><input ng-model="exercise.distance"></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise reps</label><input ng-model="exercise.reps"></md-input-container><md-input-container class="md-block" flex-gt-sm class="md-block"><label>Exercise series</label><input ng-model="exercise.series"></md-input-container><md-button ng-click="delExercise(exercise)" title="delete exercise" class="md-block" ng-show="exercises.length>1"><img src="img/trash_grey.png"></md-button></div><div layout="row"><md-button ng-click="addExercise()" title="new exercise" flex="grow"><h4>+</h4></md-button></div><md-card-actions layout="row" layout-align="end center"><md-button ng-click="addDay()" class="md-raised" md-colors="{background: 'green'}">Add Day</md-button></md-card-actions></md-content></md-tab></md-tabs></md-card></md-content>