/*! fooddportsweb - v0.0.0 - 2017-01-21 */"use strict";angular.module("myApp.clients",["ngRoute","chart.js","ngAnimate"]).config(["$routeProvider",function(a){a.when("/clients",{templateUrl:"views/clients/clients.html",controller:"ClientsCtrl"})}]).controller("ClientsCtrl",function(a,b,c,d,e,f,g){a.storageuser=JSON.parse(localStorage.getItem("fs_web_userdata")),b.get(urlapi+"trainers/"+a.storageuser._id).then(function(b){console.log("data success"),console.log(b),localStorage.setItem("fs_web_userdata",JSON.stringify(b.data)),a.storageuser=b.data},function(a,b){console.log("data error"),console.log(b),console.log(a)}).then(function(a){}),a.acceptPetition=function(c,f){var g=e.confirm().title("Accept this petition?").textContent("If you accept, this client will appear in your clients list, and you will be able to create routines for this client.").ariaLabel("Lucky day").targetEvent(c).ok("Confirm").cancel("Cancel");e.show(g).then(function(){b({url:urlapi+"trainers/acceptClientPetition",method:"POST",data:{petitionid:f}}).then(function(b){console.log("response: "),console.log(b.data),a.storageuser=b.data},function(a){d.show(d.simple().textContent("Failed on generating new routine").position("bottom right").hideDelay(3e3))})},function(){d.show(d.simple().textContent("Operation canceled").position("bottom right").hideDelay(3e3))})}});